<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.carpick.domain.reservation.mapper.ReservationMapper">
    <!-- 보험 옵션 전체 조회 -->
    <select id="selectInsuranceOptions" resultType="com.carpick.domain.insurance.dto.raw.InsuranceRawDto">
SELECT
    insurance_id     AS insuranceId,
    insurance_code             AS insuranceCode,
    insurance_label            AS insuranceLabel,
    summary_label    AS summaryLabel,
    extra_daily_price AS extraDailyPrice,
    is_default       AS isDefault,
    sort_order       AS sortOrder
From INSURANCE
WHERE is_active = TRUE
ORDER BY  sort_order ASC


    </select>
    <!-- 보험 코드로 단건 조회 -->
    <select id="selectInsuranceByCode" parameterType="String"
            resultType="com.carpick.domain.insurance.dto.raw.InsuranceRawDto">
SELECT
    insurance_id     AS insuranceId,
    insurance_code             AS insuranceCode,
    insurance_label            AS insuranceLabel,
    summary_label    AS summaryLabel,
    extra_daily_price AS extraDailyPrice,
    is_default       AS isDefault,
    sort_order       AS sortOrder
FROM INSURANCE
WHERE insurance_code = #{insuranceCode}
AND is_active = TRUE
LIMIT 1



    </select>


</mapper>