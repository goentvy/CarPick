<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
	<meta charset="UTF-8">
	<title>카픽 - 자주묻는 질문 관리</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- CSS -->
	<link rel="shortcut icon" type="image/png" href="assets/images/icon/favicon.ico">
	<link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/font-awesome.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/common.css}">
	<link rel="stylesheet" th:href="@{/assets/css/themify-icons.css}">
	<link rel="stylesheet" th:href="@{/assets/css/metisMenu.css}">
	<link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/slicknav.min.css}">

	<!-- amchart css (CDN) -->
	<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css"
		media="all" />

	<!-- Others CSS -->
	<link rel="stylesheet" th:href="@{/assets/css/typography.css}">
	<link rel="stylesheet" th:href="@{/assets/css/default-css.css}">
	<link rel="stylesheet" th:href="@{/assets/css/styles.css}">
	<link rel="stylesheet" th:href="@{/assets/css/responsive.css}">
	<!-- JS -->
	<script th:src="@{/assets/js/vendor/modernizr-2.8.3.min.js}"></script>

</head>

<body>

	<div class="page-container">

		<!-- ⭐ 사이드바 include -->
		<div th:replace="fragments/fragments :: sidebar"></div>


		<!-- ⭐ header include -->
		<div th:replace="fragments/fragments :: header"></div>

		<!-- ⭐ 본문 영역 -->
		<!-- main content area start -->
		<div class="main-content">
			<!-- page title area start -->
			<div class="page-title-area">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<div class="breadcrumbs-area clearfix">
							<h4 class="page-title pull-left">자주묻는질문 관리</h4>
							<ul class="breadcrumbs pull-left">
								<li><a href="/admin">홈</a></li>
								<li><span>FAQ문의 관리</span></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-6 clearfix"></div>
				</div>
			</div>
			<form th:action="${faq == null} ? @{/admin/faq} : @{/admin/faq/{id}(id=${faq.id})}"
			      th:object="${req}"
			      method="post">

				<div class="main-content-inner">
					<div class="row">
						<div class="col-lg-12 col-ml-12">
							<div class="row">
								<!-- Textual inputs start -->
								<div class="col-12 mt-5">
									<div class="card">
										<div class="card-body">
											<h4 class="header-title">FAQ문의 관리</h4>
											<div th:if="${faq != null}" class="mb-4">
											    <div class="form-group">
											        <label>등록일</label>
											        <input type="text"
											               class="form-control w-100"
											               th:value="${#temporals.format(faq.createdAt, 'yyyy-MM-dd HH:mm')}"
											               readonly>
											    </div>

												<div class="form-group">
												    <label>최종 수정일</label>
												    <input type="text"
												           class="form-control w-100"
												           th:value="${faq.updatedAt != faq.createdAt 
												               ? #temporals.format(faq.updatedAt, 'yyyy-MM-dd HH:mm') 
												               : '-'}"
												           readonly>
												</div>
											</div>

											<div class="form-group">
											    <label>카테고리</label>
												<select th:field="*{category}"
												        class="form-control"
												        th:classappend="${#fields.hasErrors('category')} ? 'is-invalid' : ''">
											        <option value="">선택하세요</option>
											        <option th:each="c : ${categories}"
											                th:value="${c.code}"
											                th:text="${c.label}">
											        </option>
											    </select>
												<div class="invalid-feedback"
												     th:if="${#fields.hasErrors('category')}"
												     th:errors="*{category}">
												</div>
											</div>
										
											<div class="form-group">
											    <label>질문</label>
												<input type="text"
												       th:field="*{question}"
												       class="form-control"
												       th:classappend="${#fields.hasErrors('question')} ? 'is-invalid' : ''">

												<div class="invalid-feedback"
												     th:if="${#fields.hasErrors('question')}"
												     th:errors="*{question}">
												</div>
											</div>
											<div class="form-group">
											    <label>답변</label>
												<textarea rows="5"
												          th:field="*{answer}"
												          class="form-control"
												          th:classappend="${#fields.hasErrors('answer')} ? 'is-invalid' : ''">
												</textarea>

												<div class="invalid-feedback"
												     th:if="${#fields.hasErrors('answer')}"
												     th:errors="*{answer}">
												</div>
											</div>
											<div class="d-flex justify-content-end mt-4">
											    <button type="submit"
											            class="btn btn-primary"
											            th:text="${faq == null ? '등록' : '수정'}">
											    </button>

											    <a th:href="@{/admin/faq}"
											       class="btn btn-outline-secondary ml-2">
											        취소
											    </a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<!-- ⭐ footer include -->
		<div th:replace="fragments/fragments :: footer"></div>

	</div>

	<!-- jquery latest version -->
	<script th:src="@{/assets/js/vendor/jquery-2.2.4.min.js}"></script>

	<!-- bootstrap 4 js -->
	<script th:src="@{/assets/js/popper.min.js}"></script>
	<script th:src="@{/assets/js/bootstrap.min.js}"></script>

	<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
	<script th:src="@{/assets/js/metisMenu.min.js}"></script>
	<script th:src="@{/assets/js/jquery.slimscroll.min.js}"></script>
	<script th:src="@{/assets/js/jquery.slicknav.min.js}"></script>

	<!-- start chart js (CDN) -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

	<!-- start highcharts js (CDN) -->
	<script src="https://code.highcharts.com/highcharts.js"></script>

	<!-- start zingchart js (CDN) -->
	<script src="https://cdn.zingchart.com/zingchart.min.js"></script>
	<script>
		zingchart.MODULESDIR = "https://cdn.zingchart.com/modules/";
		ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "ee6b7db5b51705a13dc2339db3edaf6d"];
	</script>

	<!-- all line chart activation -->
	<script th:src="@{/assets/js/line-chart.js}"></script>

	<!-- all bar chart activation -->
	<script th:src="@{/assets/js/bar-chart.js}"></script>

	<!-- all pie chart -->
	<script th:src="@{/assets/js/pie-chart.js}"></script>

	<!-- others plugins -->
	<script th:src="@{/assets/js/plugins.js}"></script>
	<script th:src="@{/assets/js/scripts.js}"></script>

</body>

</html>