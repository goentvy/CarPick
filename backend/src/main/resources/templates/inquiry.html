<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
	<meta charset="UTF-8">
	<title>카픽 - 일대일문의관리</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- CSS -->
	<link rel="shortcut icon" type="image/png" href="assets/images/icon/favicon.ico">
	<link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/font-awesome.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/common.css}">
	<link rel="stylesheet" th:href="@{/assets/css/themify-icons.css}">
	<link rel="stylesheet" th:href="@{/assets/css/metisMenu.css}">
	<link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/slicknav.min.css}">

	<!-- amchart css (CDN) -->
	<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css"
		media="all" />

	<!-- Others CSS -->
	<link rel="stylesheet" th:href="@{/assets/css/typography.css}">
	<link rel="stylesheet" th:href="@{/assets/css/default-css.css}">
	<link rel="stylesheet" th:href="@{/assets/css/styles.css}">
	<link rel="stylesheet" th:href="@{/assets/css/responsive.css}">

	<!-- JS -->
	<script th:src="@{/assets/js/vendor/modernizr-2.8.3.min.js}"></script>

</head>

<body>

	<div class="page-container">

		<!-- ⭐ 사이드바 include -->
		<div th:replace="fragments/fragments :: sidebar"></div>


		<!-- ⭐ header include -->
		<div th:replace="fragments/fragments :: header"></div>

		<!-- ⭐ 본문 영역 -->
		<!-- main content area start -->
		<div class="main-content">
			<!-- page title area start -->
			<div class="page-title-area">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<div class="breadcrumbs-area clearfix">
							<h4 class="page-title pull-left">일대일문의 관리</h4>
							<ul class="breadcrumbs pull-left">
								<li><a href="/admin">홈</a></li>
								<li><span>일대일문의 관리</span></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-6 clearfix">
					</div>
				</div>
			</div>
			<!-- page title area end -->
			<div class="main-content-inner">
				<form>
					<div class="col-lg-12 mt-4">
						<div class="row">
							<div class="search-box pull-left mr-1">
								<input type="text" name="search" placeholder="Search..." required>
							</div>
							<div class="search-btn">
								<button type="button" class="btn btn-light mb-3"><i class="ti-search"></i></button>
							</div>
						</div>
					</div>
				</form>
				<div class="row mb-4">
					<!-- basic table start -->
					<div class="col-lg-12 mt-4">
						<div class="card">
							<div class="card-body">
								<h4 class="header-title">일대일문의 관리</h4>
								<div class="single-table">
									<div class="table-responsive">
										<table class="table text-center">
											<thead class="text-uppercase">
												<tr>
													<th scope="col">NO</th>
													<th scope="col">문의유형</th>
													<th scope="col">문의제목</th>
													<th scope="col">답변상태</th>
													<th scope="col">관리</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="inquiry : ${inquiries}">
													<td th:text="${inquiry.id}"></td>
													<td>
														<span th:switch="${inquiry.category}">
															<span th:case="'reservation'">예약문의</span>
															<span th:case="'payment'">결제문의</span>
															<span th:case="'cancel'">취소/환불</span>
															<span th:case="'etc'">기타</span>
															<span th:case="*" th:text="${inquiry.category}"></span>
														</span>
													</td>
													<td th:text="${inquiry.title}"
														th:onclick="|location.href='@{/admin/inquiries/{id}(id=${inquiry.id})}'|">
													</td>
													<td>
														<span th:if="${inquiry.status == 'pending'}" class="text-muted">답변전</span>
														<span th:if="${inquiry.status == 'answered'}" class="text-primary">답변완료</span>
													</td>
													<td>
														<a th:if="${inquiry.status == 'pending'}" th:href="@{/admin/inquiries/{id}(id=${inquiry.id})}" class="btn btn-outline-primary btn-sm">답변하기</a>
														<a th:if="${inquiry.status == 'answered'}" th:href="@{/admin/inquiries/{id}(id=${inquiry.id})}" class="btn btn-outline-secondary btn-sm">수정하기</a>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<nav aria-label="Page navigation example" th:if="${totalPages > 1}">
					<ul class="pagination justify-content-center">
						<li class="page-item" th:classappend="${currentPage == 0} ? 'disabled' : ''">
							<a class="page-link" th:href="${currentPage > 0} ? @{/admin/inquiries(page=${currentPage - 1})} : '#'" tabindex="-1">Previous</a>
						</li>
						<li class="page-item" th:each="i : ${#numbers.sequence(0, totalPages - 1)}" 
							th:classappend="${i == currentPage} ? 'active' : ''">
							<a class="page-link" th:href="@{/admin/inquiries(page=${i})}" 
							   th:text="${i + 1}"
							   th:style="${i == currentPage} ? 'background-color: #e3f2fd; color: #1976d2; border-color: #bbdefb;' : ''"></a>
						</li>
						<li class="page-item" th:classappend="${currentPage >= totalPages - 1} ? 'disabled' : ''">
							<a class="page-link" th:href="${currentPage < totalPages - 1} ? @{/admin/inquiries(page=${currentPage + 1})} : '#'">Next</a>
						</li>
					</ul>
				</nav>
			</div>
			<!-- main content area end -->

			<script>
				function deleteItem(id) {
					if (confirm('정말 삭제하시겠습니까?')) {
						// 삭제 처리 로직
						// 예: 폼 submit, AJAX 호출, location 이동 등
						console.log('삭제 진행');
					} else {
						console.log('삭제 취소');
					}
				}
			</script>

			<!-- ⭐ footer include -->
			<div th:replace="fragments/fragments :: footer"></div>

		</div>

		<!-- jquery latest version -->
		<script th:src="@{/assets/js/vendor/jquery-2.2.4.min.js}"></script>

		<!-- bootstrap 4 js -->
		<script th:src="@{/assets/js/popper.min.js}"></script>
		<script th:src="@{/assets/js/bootstrap.min.js}"></script>

		<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
		<script th:src="@{/assets/js/metisMenu.min.js}"></script>
		<script th:src="@{/assets/js/jquery.slimscroll.min.js}"></script>
		<script th:src="@{/assets/js/jquery.slicknav.min.js}"></script>

		<!-- start chart js (CDN) -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

		<!-- start highcharts js (CDN) -->
		<script src="https://code.highcharts.com/highcharts.js"></script>

		<!-- start zingchart js (CDN) -->
		<script src="https://cdn.zingchart.com/zingchart.min.js"></script>
		<script>
			zingchart.MODULESDIR = "https://cdn.zingchart.com/modules/";
			ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "ee6b7db5b51705a13dc2339db3edaf6d"];
		</script>

		<!-- all line chart activation -->
		<script th:src="@{/assets/js/line-chart.js}"></script>

		<!-- all bar chart activation -->
		<script th:src="@{/assets/js/bar-chart.js}"></script>

		<!-- all pie chart -->
		<script th:src="@{/assets/js/pie-chart.js}"></script>

		<!-- others plugins -->
		<script th:src="@{/assets/js/plugins.js}"></script>
		<script th:src="@{/assets/js/scripts.js}"></script>

</body>

</html>