<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
	<meta charset="UTF-8">
	<title>카픽 - FAQ문의관리</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- CSS -->
	<link rel="shortcut icon" type="image/png" href="assets/images/icon/favicon.ico">
	<link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/font-awesome.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/common.css}">
	<link rel="stylesheet" th:href="@{/assets/css/themify-icons.css}">
	<link rel="stylesheet" th:href="@{/assets/css/metisMenu.css}">
	<link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
	<link rel="stylesheet" th:href="@{/assets/css/slicknav.min.css}">

	<!-- amchart css (CDN) -->
	<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css"
		media="all" />

	<!-- Others CSS -->
	<link rel="stylesheet" th:href="@{/assets/css/typography.css}">
	<link rel="stylesheet" th:href="@{/assets/css/default-css.css}">
	<link rel="stylesheet" th:href="@{/assets/css/styles.css}">
	<link rel="stylesheet" th:href="@{/assets/css/responsive.css}">

	<!-- JS -->
	<script th:src="@{/assets/js/vendor/modernizr-2.8.3.min.js}"></script>

</head>

<body>

	<div class="page-container">

		<!-- ⭐ 사이드바 include -->
		<div th:replace="fragments/fragments :: sidebar"></div>


		<!-- ⭐ header include -->
		<div th:replace="fragments/fragments :: header"></div>

		<!-- ⭐ 본문 영역 -->
		<!-- main content area start -->
		<div class="main-content">
			<!-- page title area start -->
			<div class="page-title-area">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<div class="breadcrumbs-area clearfix">
							<h4 class="page-title pull-left">FAQ문의 관리</h4>
							<ul class="breadcrumbs pull-left">
								<li><a href="/admin">홈</a></li>
								<li><span>FAQ문의 관리</span></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-6 clearfix">
					</div>
				</div>
			</div>
			<!-- page title area end -->
			<div class="main-content-inner">
				<form method="get" action="/admin/faq">
					<div class="col-lg-12 mt-4">
						<div class="row align-items-center">

							<!-- 카테고리 -->
							<div class="col-md-3">
								<select name="category" class="form-control">
									<option value="">선택</option>
									<option th:each="c : ${categories}" th:value="${c.code}" th:text="${c.label}"
										th:selected="${c.code == category}">
									</option>
								</select>
							</div>

							<!-- 키워드 -->
							<div class="col-md-5">
								<input type="text" name="keyword" class="form-control" placeholder="검색어"
									th:value="${keyword}">
							</div>

							<!-- 버튼 -->
							<div class="col-md-2">
								<button type="submit" class="btn btn-light">
									<i class="ti-search"></i>
								</button>
							</div>
							<!-- FAQ 등록 버튼 -->
							<div class="col-md-2 text-right">
								<a href="/admin/faq/new" class="btn btn-primary w-100">
									FAQ 등록
								</a>
							</div>
						</div>
					</div>
				</form>
				<div class="row mb-4">
					<!-- basic table start -->
					<div class="col-lg-12 mt-4">
						<div class="card">
							<div class="card-body">
								<h4 class="header-title">FAQ문의 관리</h4>
								<div class="single-table">
									<div class="table-responsive">
										<table class="table text-center">
											<thead class="text-uppercase">
												<tr>
													<th scope="col">NO</th>
													<th scope="col">문의유형</th>
													<th scope="col">질문</th>
													<th scope="col">관리</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="faq, stat : ${faqs}">
													<th scope="row" th:text="${stat.count}"></th>

													<td>
													  <span th:switch="${faq.category}">
													    <span th:case="'reservation'">예약 · 결제</span>
													    <span th:case="'usage'">대여 · 반납 · 이용</span>
													    <span th:case="'insurance'">보험 · 사고</span>
													    <span th:case="'short'">단기렌트</span>
													    <span th:case="'long'">장기렌트</span>
													    <span th:case="'etc'">기타 서비스</span>
													    <span th:case="*" th:text="${faq.category}"></span>
													  </span>
													</td>

													<td th:text="${faq.question}"
														th:onclick="|location.href='/admin/faq/' + ${faq.id}|"
														style="cursor:pointer"></td>

													<td>
														<a th:href="@{/admin/faq/{id}(id=${faq.id})}"
														     class="btn btn-outline-secondary btn-sm me-1">
														    수정
														  </a>
														<form
														   th:action="@{/admin/faq/{id}/delete(id=${faq.id})}"
														   method="post"
														   style="display:inline;"
														 >
														   <button
														     type="submit"
														     class="btn btn-outline-danger btn-sm"
														     onclick="return confirm('정말 삭제하시겠습니까?');">
														     삭제
														   </button>
														 </form>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<nav aria-label="Page navigation">
					<ul class="pagination justify-content-center">

						<!-- 이전 -->
						<li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
							<a class="page-link" th:href="@{/admin/faq(
					           page=${currentPage - 1},
					           category=${category},
					           keyword=${keyword}
					       )}">
								Previous
							</a>
						</li>

						<!-- 페이지 번호 -->
						<li class="page-item" th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
							th:classappend="${i == currentPage} ? 'active'">
							<a class="page-link" th:href="@{/admin/faq(
					           page=${i},
					           category=${category},
					           keyword=${keyword}
					       )}" th:text="${i + 1}">
							</a>
						</li>

						<!-- 다음 -->
						<li class="page-item" th:classappend="${currentPage == totalPages - 1} ? 'disabled'">
							<a class="page-link" th:href="@{/admin/faq(
					           page=${currentPage + 1},
					           category=${category},
					           keyword=${keyword}
					       )}">
								Next
							</a>
						</li>

					</ul>
				</nav>
			</div>
			<!-- main content area end -->

			<script>
				function deleteItem(id) {
					if (confirm('정말 삭제하시겠습니까?')) {
						// 삭제 처리 로직
						// 예: 폼 submit, AJAX 호출, location 이동 등
						console.log('삭제 진행');
					} else {
						console.log('삭제 취소');
					}
				}
			</script>

			<!-- ⭐ footer include -->
			<div th:replace="fragments/fragments :: footer"></div>

		</div>

		<!-- jquery latest version -->
		<script th:src="@{/assets/js/vendor/jquery-2.2.4.min.js}"></script>

		<!-- bootstrap 4 js -->
		<script th:src="@{/assets/js/popper.min.js}"></script>
		<script th:src="@{/assets/js/bootstrap.min.js}"></script>

		<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
		<script th:src="@{/assets/js/metisMenu.min.js}"></script>
		<script th:src="@{/assets/js/jquery.slimscroll.min.js}"></script>
		<script th:src="@{/assets/js/jquery.slicknav.min.js}"></script>

		<!-- start chart js (CDN) -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

		<!-- start highcharts js (CDN) -->
		<script src="https://code.highcharts.com/highcharts.js"></script>

		<!-- start zingchart js (CDN) -->
		<script src="https://cdn.zingchart.com/zingchart.min.js"></script>
		<script>
			zingchart.MODULESDIR = "https://cdn.zingchart.com/modules/";
			ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "ee6b7db5b51705a13dc2339db3edaf6d"];
		</script>

		<!-- all line chart activation -->
		<script th:src="@{/assets/js/line-chart.js}"></script>

		<!-- all bar chart activation -->
		<script th:src="@{/assets/js/bar-chart.js}"></script>

		<!-- all pie chart -->
		<script th:src="@{/assets/js/pie-chart.js}"></script>

		<!-- others plugins -->
		<script th:src="@{/assets/js/plugins.js}"></script>
		<script th:src="@{/assets/js/scripts.js}"></script>

</body>

</html>